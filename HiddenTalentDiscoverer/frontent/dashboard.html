<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard â€“ Hidden Talent Finder</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

<header>
    <div class="navbar-row">
    <a href="index.html">Home</a>
    <a href="leaderboard.html">Leaderboard</a>
    <a href="recommendations.html">Recommendations</a>
    <a href="dashboard.html">Dashboard</a>
    <a href="profile.html">Profile</a>
    <a href="badges.html">Badges</a>
    <a href="about.html">About Us</a>

    <a href="login.html" class="navbar-login">Login</a>
    <a href="signup.html" class="navbar-signup">Sign Up</a>
</div>
    <h1>Your Dashboard</h1>
    
</header>

<div class="container">

    <h2>Welcome, <span id="userName">User</span> ðŸ‘‹</h2>

    <div class="card">
        <h3>Your Last Quiz Result</h3>
        <p id="lastResult">No quiz taken yet.</p>
    </div>

    <div class="card">
        <h3>Your Talent Area</h3>
        <p id="talentArea">Not detected yet.</p>
    </div>

    <div class="card">
        <h3>Badges</h3>
        <div id="badgesBox">No badges earned yet.</div>
    </div>

</div>

<script>
function loadDashboard() {
    const user = JSON.parse(localStorage.getItem("currentUser"));

    if (!user) {
        alert("Please login first!");
        window.location.href = "login.html";
        return;
    }

    // Show user name
    document.getElementById("userName").textContent = user.name;

    // Last quiz result
    const result = localStorage.getItem("lastQuizResult");
    document.getElementById("lastResult").textContent = result || "No quiz taken yet.";

    // Talent area
    const area = localStorage.getItem("talentArea");
    document.getElementById("talentArea").textContent = area || "Not detected yet.";

    // Badges
    const badges = JSON.parse(localStorage.getItem("badges")) || [];
    const box = document.getElementById("badgesBox");

    if (badges.length === 0) {
        box.textContent = "No badges earned yet.";
    } else {
        box.innerHTML = badges.map(b => `<span class="badge">${b}</span>`).join("");
    }
}

function logout() {
    localStorage.removeItem("currentUser");
    alert("Logged out!");
    window.location.href = "login.html";
}

window.onload = loadDashboard;
</script>

</body>
</html>